<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>

    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>README for discover too many networks too few nodes</title>
  </head>
  <body>
    <div style="color: rgb(0, 0, 0); font-family: Verdana, Arial,
      Helvetica, sans-serif; font-size: 11px; font-style: normal;
      font-variant-ligatures: normal; font-variant-caps: normal;
      font-weight: normal; letter-spacing: normal; orphans: 2;
      text-indent: 0px; text-transform: none; white-space: normal;
      widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;
      text-align: center;"><b style="font-family: &quot;times new
        roman&quot;, times, serif; font-size: medium; line-height:
        normal;">WebNMS Discovery involving many nodes to be individual
        discovered through addNode (rather than Network Discovery)</b></div>
    <div style="color: rgb(0, 0, 0); font-style: normal;
      font-variant-ligatures: normal; font-variant-caps: normal;
      font-weight: normal; letter-spacing: normal; orphans: 2;
      text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: 2; word-spacing: 0px;
      -webkit-text-stroke-width: 0px; line-height: normal; font-family:
      &quot;times new roman&quot;, times, serif; font-size: medium;"><br>
      <b><u>Scenario</u>:</b><span class="Apple-converted-space">&nbsp;</span>The
      managed network consists of too many networks with too few nodes
      in each network.<br>
      Hence its not possible to add networks (plus the network discovery
      will also be disabled by default)<br>
      In this case, each new node (first node of a network) will take
      time to be discovered (due to the WebNMS Discovery Framework's
      design) and hence the whole discovery (for the first time) will be
      delayed.<br>
      We have got a solution to speed up the discovery process:<br>
      <b><u><br>
          Solution</u>:</b><br>
      <br>
      1. Please download <a
href="https://github.com/ramanan99/TestSnippets/blob/master/discover_too_many_networks_too_few_nodes/PreDiscoveryProcess.java"
        style="text-decoration: none;">PreDiscoveryProcess.java</a> and
      compile the same under NMS_HOME/classes <br>
      <br>
      2. Give the below entry as the last entry in NmsProcessesBE.conf</div>
    <div style="color: rgb(0, 0, 0); font-style: normal;
      font-variant-ligatures: normal; font-variant-caps: normal;
      font-weight: normal; letter-spacing: normal; orphans: 2;
      text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: 2; word-spacing: 0px;
      -webkit-text-stroke-width: 0px; line-height: normal; font-family:
      &quot;times new roman&quot;, times, serif; font-size: medium;"><br>
    </div>
    <div style="color: rgb(0, 0, 0); font-family: Verdana, Arial,
      Helvetica, sans-serif; font-size: 11px; font-style: normal;
      font-variant-ligatures: normal; font-variant-caps: normal;
      font-weight: normal; letter-spacing: normal; orphans: 2;
      text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: 2; word-spacing: 0px;
      -webkit-text-stroke-width: 0px; line-height: normal;">
      <div><font size="2" color="#0000ff" face="courier new, courier,
          monospace">PROCESS test.PreDiscoveryProcess</font></div>
      <div><font size="2" color="#0000ff" face="courier new, courier,
          monospace">ARGS NULL</font></div>
    </div>
    <div style="color: rgb(0, 0, 0); font-style: normal;
      font-variant-ligatures: normal; font-variant-caps: normal;
      font-weight: normal; letter-spacing: normal; orphans: 2;
      text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: 2; word-spacing: 0px;
      -webkit-text-stroke-width: 0px; line-height: normal; font-family:
      &quot;times new roman&quot;, times, serif; font-size: medium;"><br>
      3.In seed.file, Ensure that&nbsp;<span style="color: rgb(0, 0,
        255); font-family: &quot;courier new&quot;, courier, monospace;
        font-size: small;">DISCOVER_LOCALNET="false"</span>&nbsp;is set.</div>
    <div style="color: rgb(0, 0, 0); font-style: normal;
      font-variant-ligatures: normal; font-variant-caps: normal;
      font-weight: normal; letter-spacing: normal; orphans: 2;
      text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: 2; word-spacing: 0px;
      -webkit-text-stroke-width: 0px; line-height: normal; font-family:
      &quot;times new roman&quot;, times, serif; font-size: medium;"><br>
      4. Restart the server.</div>
    <div style="color: rgb(0, 0, 0); font-style: normal;
      font-variant-ligatures: normal; font-variant-caps: normal;
      font-weight: normal; letter-spacing: normal; orphans: 2;
      text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: 2; word-spacing: 0px;
      -webkit-text-stroke-width: 0px; line-height: normal; font-family:
      &quot;times new roman&quot;, times, serif; font-size: medium;"><b><i><br>
        </i><span style="color: rgb(0, 0, 255); font-family:
          &quot;courier new&quot;, courier, monospace; font-size:
          small;">DISCOVER_LOCALNET</span> should be set as false since
        enabling it will throw many exceptions.<br>
      </b><br>
    </div>
    <div style="color: rgb(0, 0, 0); font-style: normal;
      font-variant-ligatures: normal; font-variant-caps: normal;
      font-weight: normal; letter-spacing: normal; orphans: 2;
      text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: 2; word-spacing: 0px;
      -webkit-text-stroke-width: 0px; line-height: normal; font-family:
      &quot;times new roman&quot;, times, serif; font-size: medium;">Now
      check whether the node addition is faster.</div>
    <div style="color: rgb(0, 0, 0); font-style: normal;
      font-variant-ligatures: normal; font-variant-caps: normal;
      font-weight: normal; letter-spacing: normal; orphans: 2;
      text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: 2; word-spacing: 0px;
      -webkit-text-stroke-width: 0px; line-height: normal; font-family:
      &quot;times new roman&quot;, times, serif; font-size: medium;">Note

      that the change in flow is - parse the seed.file and add all the
      networks beforehand in a single transaction - This took around 15
      seconds for us (8500+ networks).<br>
      This network addition will ensure that while addition of each
      node, its network will already be present. This fastens up the
      nodes addition.<br>
      <br>
      <b>This network addition will take place only for the cold start
        (either the very first start after installation or the start
        after a reinitialised database) start and not for further warm
        starts.<br>
        If you need to change this behaviour, change the <a
href="https://github.com/ramanan99/TestSnippets/blob/master/discover_too_many_networks_too_few_nodes/PreDiscoveryProcess.java##L102-L111">corresponding
          code</a><br>
      </b></div>
    <br>
  </body>
</html>
