<!DOCTYPE html PUBLIC "-W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta content="text/html; charset=ISO-8859-1"
 http-equiv="content-type">
  <title>MySQL_User</title>
  <meta content="&Ntilde;and&uacute; 0.6" name="GENERATOR">
  <meta content="text/html;charset=UTF-8" http-equiv="Content-Type">
</head>
<body>
<big><big><big><span
 style="font-weight: bold; text-decoration: underline;">Changing root
or any other user's password in mysql</span></big></big></big><br>
o setup root password for first time, use mysqladmin command at shell
prompt as follows:<br>
<pre class="code"><font color="#3333ff">$ mysqladmin -u root password NEWPASSWORD</font></pre>
However if you want to change (or update) a root password, then you
need to use following command:<br>
<pre class="code"><font color="#3333ff">$ mysqladmin -u root -p oldpassword newpass</font></pre>
Enter password:<br>
<br>
To change a normal user password you need to type (let us assume you
would like to change password for vivek):<br>
<pre class="code"><font color="#3333ff">$ mysqladmin -u vivek -p oldpassword newpass<br><br></font><big><font
 color="#000000" face="Times New Roman, Times, serif">To restrict everyone (every mysql client contaacting this mysql server) to use password, kindly follow the below steps:<br>shell &gt; <font
 face="Courier New, Courier, monospace"><b>mysqladmin -u root password public </b></font></font></big><big><font
 color="#000000" face="Times New Roman, Times, serif"><font
 color="#3333ff">//We believe you have done this to change the password</font><br></font></big><big><font
 color="#000000" face="Times New Roman, Times, serif">shell &gt; <font
 face="Courier New, Courier, monospace"><b>mysql.exe -u root -h localhost --password=public </b></font></font></big><big><font
 color="#000000" face="Times New Roman, Times, serif"><font
 color="#3333ff">//To connect to mysql server running in localhost</font></font></big><big><font
 color="#000000" face="Times New Roman, Times, serif"><br>mysql &gt;&nbsp; <b><font
 face="Courier New, Courier, monospace">update user set password=PASSWORD("public") where Host='localhost';</font></b><br></font></big><big><font
 color="#000000" face="Times New Roman, Times, serif">mysql <b><font
 face="Courier New, Courier, monospace">&gt; update user set password=PASSWORD("public") where Host='%';</font></b><br>mysql &gt;&nbsp; <b><font
 face="Courier New, Courier, monospace">flush privileges;<br><br></font></b><font
 face="Times New Roman, Times, serif">For further reference kindly refer the </font></font></big><big><font
 color="#000000" face="Times New Roman, Times, serif"><a
 href="http://dev.mysql.com/doc/">MySQL document</a></font></big><big><font
 color="#000000" face="Times New Roman, Times, serif"><font
 face="Times New Roman, Times, serif"> at </font></font></big><big><font
 color="#000000" face="Times New Roman, Times, serif"><a
 href="http://dev.mysql.com/doc/refman/5.0/en/default-privileges.html">Securing the Initial MySQL Accounts</a></font></big><big><font
 color="#000000" face="Times New Roman, Times, serif"><font
 face="Times New Roman, Times, serif"> &amp; </font></font></big><big><font
 color="#000000" face="Times New Roman, Times, serif"><a
 href="http://dev.mysql.com/doc/refman/5.0/en/grant.html">GRANT Syntax</a></font></big><big><font
 color="#000000" face="Times New Roman, Times, serif"><b><font
 face="Courier New, Courier, monospace"><br></font></b></font></big><big><font
 color="#000000" face="Times New Roman, Times, serif">We believe that this would restrict any MySQL client from skipping the password.  </font></big><br></pre>
<u><span style="font-size: 130%;">Method # 2:</span></u><br>
MySQL
stores username and passwords in user table inside MySQL database. You
can directly update password using following method to update or change
password for user vivek:<br>
<br>
1) Login to mysql server, type following command at shell prompt:<br>
<pre class="code"><font color="#3333ff">$ mysql -u root -p</font></pre>
2) Use mysql database (type command at mysql&gt; prompt):<br>
<pre class="code"><font color="#3333ff">mysql&gt; <span
 style="font-weight: bold;">use mysql;</span></font></pre>
3) Change password for user vivek:<br>
<pre class="code"><font color="#3333ff">mysql&gt; <span
 style="font-weight: bold;">update user set password=PASSWORD("NEWPASSWORD') where name=vivek;</span></font></pre>
4) Reload privileges (very important):<br>
<pre class="code"><font color="#3333ff">mysql&gt; <span
 style="font-weight: bold;">flush privileges;</span><br>mysql&gt; <span
 style="font-weight: bold;">quit</span></font></pre>
&gt;From <a
 href="http://www.cyberciti.biz/faqs/2006/01/mysql-change-root-password.php">MySQL
FAQs</a><br>
<br>
<h3 class="title">5.9.2.&nbsp;Adding New User Accounts to MySQL</h3>
<a class="indexterm" name="id2866423"></a><a class="indexterm"
 name="id2866432"></a><a class="indexterm" name="id2866444"></a><a
 class="indexterm" name="id2866454"></a><a class="indexterm"
 name="id2866465"></a><a class="indexterm" name="id2866475"></a><a
 class="indexterm" name="id2866485"></a>
<p> You can create MySQL accounts in two ways: </p>
<div class="itemizedlist">
<ul type="disc">
  <li>
    <p> By using statements intended for creating accounts, such as <code
 class="literal">CREATE USER</code> or <code class="literal">GRANT</code>
    </p>
  </li>
  <li>
    <p> By manipulating the MySQL grant tables directly with statements
such as <code class="literal">INSERT</code>, <code class="literal">UPDATE</code>,
or <code class="literal">DELETE</code> </p>
  </li>
</ul>
</div>
<p> The preferred method is to use account-creation statements because
they are more concise and less error-prone. <code class="literal">CREATE
USER</code> and <code class="literal">GRANT</code> are described in <a
 href="http://dev.mysql.com/doc/refman/5.0/en/create-user.html"
 title="13.5.1.1.&nbsp;CREATE USER Syntax">Section&nbsp;13.5.1.1, &ldquo;<code
 class="literal">CREATE USER</code> Syntax&rdquo;</a>, and <a
 href="http://dev.mysql.com/doc/refman/5.0/en/grant.html"
 title="13.5.1.3.&nbsp;GRANT Syntax">Section&nbsp;13.5.1.3, &ldquo;<code
 class="literal">GRANT</code> Syntax&rdquo;</a>. </p>
<p> Another option for creating accounts is to use one of several
available third-party programs that offer capabilities for MySQL
account administration. <code class="literal">phpMyAdmin</code> is one
such program. </p>
<p> The following examples show how to use the <span><strong
 class="command">mysql</strong></span> client program to set up new
users. These examples assume that privileges are set up according to
the defaults described in <a
 href="http://dev.mysql.com/doc/refman/5.0/en/default-privileges.html"
 title="2.9.3.&nbsp;Securing the Initial MySQL Accounts">Section&nbsp;2.9.3,
&ldquo;Securing the Initial MySQL Accounts&rdquo;</a>. This means that
to make
changes, you must connect to the MySQL server as the MySQL <code
 class="literal">root</code> user, and the <code class="literal">root</code>
account must have the <code class="literal">INSERT</code> privilege
for the <code class="literal">mysql</code> database and the <code
 class="literal">RELOAD</code> administrative privilege. </p>
<p> First, use the <span><strong class="command">mysql</strong></span>
program to connect to the server as the MySQL <code class="literal">root</code>
user: </p>
<pre class="programlisting">shell&gt; <strong class="userinput"><code>mysql --user=root mysql</code></strong>
</pre>
<p> If you have assigned a password to the <code class="literal">root</code>
account, you'll also need to supply a <code class="option">--password</code>
or <code class="option">-p</code> option for this <span><strong
 class="command">mysql</strong></span> command and also for those later
in this section. </p>
<p> After connecting to the server as <code class="literal">root</code>,
you can add new accounts. The following statements use <code
 class="literal">GRANT</code> to set up four new accounts: </p>
<pre class="programlisting">mysql&gt; <strong class="userinput"><code>GRANT ALL PRIVILEGES ON *.* TO 'monty'@'localhost'</code></strong><br>    -&gt;     <strong
 class="userinput"><code>IDENTIFIED BY 'some_pass' WITH GRANT OPTION;</code></strong><br>mysql&gt; <strong
 class="userinput"><code>GRANT ALL PRIVILEGES ON *.* TO 'monty'@'%'</code></strong><br>    -&gt;     <strong
 class="userinput"><code>IDENTIFIED BY 'some_pass' WITH GRANT OPTION;</code></strong><br>mysql&gt; <strong
 class="userinput"><code>GRANT RELOAD,PROCESS ON *.* TO 'admin'@'localhost';</code></strong><br>mysql&gt; <strong
 class="userinput"><code>GRANT USAGE ON *.* TO 'dummy'@'localhost';</code></strong>
</pre>
<p> The accounts created by these <code class="literal">GRANT</code>
statements have the following properties: </p>
<div class="itemizedlist">
<ul type="disc">
  <li>
    <p> Two of the accounts have a username of <code class="literal">monty</code>
and a password of <code class="literal">some_pass</code>. Both
accounts are superuser accounts with full privileges to do anything.
One account (<code class="literal">'monty'@'localhost'</code>) can be
used only when connecting from the local host. The other (<code
 class="literal">'monty'@'%'</code>) can be used to connect from any
other host. Note that it is necessary to have both accounts for <code
 class="literal">monty</code> to be able to connect from anywhere as <code
 class="literal">monty</code>. Without the <code class="literal">localhost</code>
account, the anonymous-user account for <code class="literal">localhost</code>
that is created by <span><strong class="command">mysql_install_db</strong></span>
would take precedence when <code class="literal">monty</code> connects
from the local host. As a result, <code class="literal">monty</code>
would be treated as an anonymous user. The reason for this is that the
anonymous-user account has a more specific <code class="literal">Host</code>
column value than the <code class="literal">'monty'@'%'</code> account
and thus comes earlier in the <code class="literal">user</code> table
sort order. (<code class="literal">user</code> table sorting is
discussed in <a
 href="http://dev.mysql.com/doc/refman/5.0/en/connection-access.html"
 title="5.8.5.&nbsp;Access Control, Stage 1: Connection Verification">Section&nbsp;5.8.5,
&ldquo;Access Control, Stage 1: Connection Verification&rdquo;</a>.) </p>
  </li>
  <li>
    <p> One account has a username of <code class="literal">admin</code>
and no password. This account can be used only by connecting from the
local host. It is granted the <code class="literal">RELOAD</code> and <code
 class="literal">PROCESS</code> administrative privileges. These
privileges allow the <code class="literal">admin</code> user to
execute the <span><strong class="command">mysqladmin reload</strong></span>,
    <span><strong class="command">mysqladmin refresh</strong></span>,
and <span><strong class="command">mysqladmin flush-<em
 class="replaceable"><code>xxx</code></em></strong></span> commands, as
well as <span><strong class="command">mysqladmin processlist</strong></span>
. No privileges are granted for accessing any databases. You could add
such privileges later by issuing additional <code class="literal">GRANT</code>
statements. </p>
  </li>
  <li>
    <p> One account has a username of <code class="literal">dummy</code>
and no password. This account can be used only by connecting from the
local host. No privileges are granted. The <code class="literal">USAGE</code>
privilege in the <code class="literal">GRANT</code> statement enables
you to create an account without giving it any privileges. It has the
effect of setting all the global privileges to <code class="literal">'N'</code>.
It is assumed that you will grant specific privileges to the account
later. </p>
  </li>
</ul>
</div>
<a class="indexterm" name="id2866865"></a><a class="indexterm"
 name="id2866878"></a>
<p> As an alternative to <code class="literal">GRANT</code>, you can
create the same accounts directly by issuing <code class="literal">INSERT</code>
statements and then telling the server to reload the grant tables using
<code class="literal">FLUSH PRIVILEGES</code>: </p>
<pre class="programlisting">shell&gt; <strong class="userinput"><code>mysql --user=root mysql</code></strong><br>mysql&gt; <strong
 class="userinput"><code>INSERT INTO user</code></strong><br>    -&gt;     <strong
 class="userinput"><code>VALUES('localhost','monty',PASSWORD('some_pass'),</code></strong><br>    -&gt;     <strong
 class="userinput"><code>'Y','Y','Y','Y','Y','Y','Y','Y','Y','Y','Y','Y','Y','Y');</code></strong><br>mysql&gt; <strong
 class="userinput"><code>INSERT INTO user</code></strong><br>    -&gt;     <strong
 class="userinput"><code>VALUES('%','monty',PASSWORD('some_pass'),</code></strong><br>    -&gt;     <strong
 class="userinput"><code>'Y','Y','Y','Y','Y','Y','Y','Y','Y','Y','Y','Y','Y','Y');</code></strong><br>mysql&gt; <strong
 class="userinput"><code>INSERT INTO user SET Host='localhost',User='admin',</code></strong><br>    -&gt;     <strong
 class="userinput"><code>Reload_priv='Y', Process_priv='Y';</code></strong><br>mysql&gt; <strong
 class="userinput"><code>INSERT INTO user (Host,User,Password)</code></strong><br>    -&gt;     <strong
 class="userinput"><code>VALUES('localhost','dummy','');</code></strong><br>mysql&gt; <strong
 class="userinput"><code>FLUSH PRIVILEGES;</code></strong>
</pre>
<p> The reason for using <code class="literal">FLUSH PRIVILEGES</code>
when you create accounts with <code class="literal">INSERT</code> is
to tell the server to re-read the grant tables. Otherwise, the changes
go unnoticed until you restart the server. With <code class="literal">GRANT</code>,
<code class="literal">FLUSH PRIVILEGES</code> is unnecessary. </p>
<p> The reason for using the <code class="literal">PASSWORD()</code>
function with <code class="literal">INSERT</code> is to encrypt the
password. The <code class="literal">GRANT</code> statement encrypts
the password for you, so <code class="literal">PASSWORD()</code> is
unnecessary. </p>
<p> The <code class="literal">'Y'</code> values enable privileges for
the accounts. Depending on your MySQL version, you may have to use a
different number of <code class="literal">'Y'</code> values in the
first two <code class="literal">INSERT</code> statements. For the <code
 class="literal">admin</code> account, you may also employ the more
readable extended <code class="literal">INSERT</code> syntax using <code
 class="literal">SET</code>. </p>
<p> In the <code class="literal">INSERT</code> statement for the <code
 class="literal">dummy</code> account, only the <code class="literal">Host</code>,
<code class="literal">User</code>, and <code class="literal">Password</code>
columns in the <code class="literal">user</code> table row are
assigned values. None of the privilege columns are set explicitly, so
MySQL assigns them all the default value of <code class="literal">'N'</code>.
This is equivalent to what <code class="literal">GRANT USAGE</code>
does. </p>
<p> Note that to set up a superuser account, it is necessary only to
create a <code class="literal">user</code> table entry with the
privilege columns set to <code class="literal">'Y'</code>. <code
 class="literal">user</code> table privileges are global, so no entries
in any of the other grant tables are needed. </p>
<p> The next examples create three accounts and give them access to
specific databases. Each of them has a username of <code
 class="literal">custom</code> and password of <code class="literal">obscure</code>.
</p>
<p> To create the accounts with <code class="literal">GRANT</code>,
use the following statements: </p>
<pre class="programlisting">shell&gt; <strong class="userinput"><code>mysql --user=root mysql</code></strong><br>mysql&gt; <strong
 class="userinput"><code>GRANT SELECT,INSERT,UPDATE,DELETE,CREATE,DROP</code></strong><br>    -&gt;     <strong
 class="userinput"><code>ON bankaccount.*</code></strong><br>    -&gt;     <strong
 class="userinput"><code>TO 'custom'@'localhost'</code></strong><br>    -&gt;     <strong
 class="userinput"><code>IDENTIFIED BY 'obscure';</code></strong><br>mysql&gt; <strong
 class="userinput"><code>GRANT SELECT,INSERT,UPDATE,DELETE,CREATE,DROP</code></strong><br>    -&gt;     <strong
 class="userinput"><code>ON expenses.*</code></strong><br>    -&gt;     <strong
 class="userinput"><code>TO 'custom'@'whitehouse.gov'</code></strong><br>    -&gt;     <strong
 class="userinput"><code>IDENTIFIED BY 'obscure';</code></strong><br>mysql&gt; <strong
 class="userinput"><code>GRANT SELECT,INSERT,UPDATE,DELETE,CREATE,DROP</code></strong><br>    -&gt;     <strong
 class="userinput"><code>ON customer.*</code></strong><br>    -&gt;     <strong
 class="userinput"><code>TO 'custom'@'server.domain'</code></strong><br>    -&gt;     <strong
 class="userinput"><code>IDENTIFIED BY 'obscure';</code></strong>
</pre>
<p> The three accounts can be used as follows: </p>
<div class="itemizedlist">
<ul type="disc">
  <li>
    <p> The first account can access the <code class="literal">bankaccount</code>
database, but only from the local host. </p>
  </li>
  <li>
    <p> The second account can access the <code class="literal">expenses</code>
database, but only from the host <code class="literal">whitehouse.gov</code>.
    </p>
  </li>
  <li>
    <p> The third account can access the <code class="literal">customer</code>
database, but only from the host <code class="literal">server.domain</code>.
    </p>
  </li>
</ul>
</div>
<p> To set up the <code class="literal">custom</code> accounts without
<code class="literal">GRANT</code>, use <code class="literal">INSERT</code>
statements as follows to modify the grant tables directly: </p>
<pre class="programlisting">shell&gt; <strong class="userinput"><code>mysql --user=root mysql</code></strong><br>mysql&gt; <strong
 class="userinput"><code>INSERT INTO user (Host,User,Password)</code></strong><br>    -&gt;     <strong
 class="userinput"><code>VALUES('localhost','custom',PASSWORD('obscure'));</code></strong><br>mysql&gt; <strong
 class="userinput"><code>INSERT INTO user (Host,User,Password)</code></strong><br>    -&gt;     <strong
 class="userinput"><code>VALUES('whitehouse.gov','custom',PASSWORD('obscure'));</code></strong><br>mysql&gt; <strong
 class="userinput"><code>INSERT INTO user (Host,User,Password)</code></strong><br>    -&gt;     <strong
 class="userinput"><code>VALUES('server.domain','custom',PASSWORD('obscure'));</code></strong><br>mysql&gt; <strong
 class="userinput"><code>INSERT INTO db</code></strong><br>    -&gt;     <strong
 class="userinput"><code>(Host,Db,User,Select_priv,Insert_priv,</code></strong><br>    -&gt;     <strong
 class="userinput"><code>Update_priv,Delete_priv,Create_priv,Drop_priv)</code></strong><br>    -&gt;     <strong
 class="userinput"><code>VALUES('localhost','bankaccount','custom',</code></strong><br>    -&gt;     <strong
 class="userinput"><code>'Y','Y','Y','Y','Y','Y');</code></strong><br>mysql&gt; <strong
 class="userinput"><code>INSERT INTO db</code></strong><br>    -&gt;     <strong
 class="userinput"><code>(Host,Db,User,Select_priv,Insert_priv,</code></strong><br>    -&gt;     <strong
 class="userinput"><code>Update_priv,Delete_priv,Create_priv,Drop_priv)</code></strong><br>    -&gt;     <strong
 class="userinput"><code>VALUES('whitehouse.gov','expenses','custom',</code></strong><br>    -&gt;     <strong
 class="userinput"><code>'Y','Y','Y','Y','Y','Y');</code></strong><br>mysql&gt; <strong
 class="userinput"><code>INSERT INTO db</code></strong><br>    -&gt;     <strong
 class="userinput"><code>(Host,Db,User,Select_priv,Insert_priv,</code></strong><br>    -&gt;     <strong
 class="userinput"><code>Update_priv,Delete_priv,Create_priv,Drop_priv)</code></strong><br>    -&gt;     <strong
 class="userinput"><code>VALUES('server.domain','customer','custom',</code></strong><br>    -&gt;     <strong
 class="userinput"><code>'Y','Y','Y','Y','Y','Y');</code></strong><br>mysql&gt; <strong
 class="userinput"><code>FLUSH PRIVILEGES;</code></strong>
</pre>
<p> The first three <code class="literal">INSERT</code> statements add
<code class="literal">user</code> table entries that allow the user <code
 class="literal">custom</code> to connect from the various hosts with
the given password, but grant no global privileges (all privileges are
set to the default value of <code class="literal">'N'</code>). The
next three <code class="literal">INSERT</code> statements add <code
 class="literal">db</code> table entries that grant privileges to <code
 class="literal">custom</code> for the <code class="literal">bankaccount</code>,
<code class="literal">expenses</code>, and <code class="literal">customer</code>
databases, but only when accessed from the proper hosts. As usual when
you modify the grant tables directly, you must tell the server to
reload them with <code class="literal">FLUSH PRIVILEGES</code> so that
the privilege changes take effect. </p>
<p> If you want to give a specific user access from all machines in a
given domain (for example, <code class="literal">mydomain.com</code>),
you can issue a <code class="literal">GRANT</code> statement that uses
the &lsquo;<code class="literal">%</code>&rsquo; wildcard character in
the host
part of the account name: </p>
<pre class="programlisting">mysql&gt; <strong class="userinput"><code>GRANT ...</code></strong><br>    -&gt;     <strong
 class="userinput"><code>ON *.*</code></strong><br>    -&gt;     <strong
 class="userinput"><code>TO 'myname'@'%.mydomain.com'</code></strong><br>    -&gt;     <strong
 class="userinput"><code>IDENTIFIED BY 'mypass';</code></strong>
</pre>
<p> To do the same thing by modifying the grant tables directly, do
this: </p>
<pre class="programlisting">mysql&gt; <strong class="userinput"><code>INSERT INTO user (Host,User,Password,...)</code></strong><br>    -&gt;     <strong
 class="userinput"><code>VALUES('%.mydomain.com','myname',PASSWORD('mypass'),...);</code></strong><br>mysql&gt; <strong
 class="userinput"><code>FLUSH PRIVILEGES;</code></strong>
</pre>
<!--UdmComment-->
<div id="docnav"><a rel="prev"
 href="http://dev.mysql.com/doc/refman/5.0/en/user-names.html"
 title="5.9.1 MySQL Usernames and Passwords">Previous</a> / <a
 rel="next"
 href="http://dev.mysql.com/doc/refman/5.0/en/removing-users.html"
 title="5.9.3 Removing User Accounts from MySQL">Next</a> / <a rel="up"
 href="http://dev.mysql.com/doc/refman/5.0/en/user-account-management.html"
 title="5.9 MySQL User Account Management">Up</a> / <a rel="contents"
 href="http://dev.mysql.com/doc/refman/5.0/en/index.html">Table of
Contents</a></div>
<!--/UdmComment--><br class="clear">
<!--UdmComment-->
<div id="comments">
<h2>User Comments</h2>
<table id="c3786" class="commentdetails" summary="" border="0"
 cellpadding="0" cellspacing="0" width="100%">
  <tbody>
    <tr>
      <td>Posted by [name withheld] on December 30 2003 12:15pm</td>
      <td align="right">[<a
 href="http://dev.mysql.com/doc/mysql/comment.php?id=3786&amp;action=delete">Delete</a>]
[<a href="http://dev.mysql.com/doc/mysql/comment.php?id=3786">Edit</a>]</td>
    </tr>
  </tbody>
</table>
<p class="commenttext">Your
second example, in which you claim MySQL is wrong in their
documentation, will not work because you are trying to use a backquote
(`) instead of the single quote ('). They look similar but are
completely different. Thus your example:<br>
<br>
GRANT ALL PRIVILEGES ON bCo.* TO nan@'%` IDENTIFIED BY 'weenie' WITH
GRANT OPTION;<br>
<br>
does not work because nan@'%` is not properly quoted. It should read
nan@'%' instead which is fine. This works as expected:<br>
<br>
GRANT ALL PRIVILEGES ON bCo.* TO nan@'%' IDENTIFIED BY 'weenie' WITH
GRANT OPTION;<br>
</p>
<table id="c3822" class="commentdetails" summary="" border="0"
 cellpadding="0" cellspacing="0" width="100%">
  <tbody>
    <tr>
      <td>Posted by Mike Barrett on January 7 2004 9:52am</td>
      <td align="right">[<a
 href="http://dev.mysql.com/doc/mysql/comment.php?id=3822&amp;action=delete">Delete</a>]
[<a href="http://dev.mysql.com/doc/mysql/comment.php?id=3822">Edit</a>]</td>
    </tr>
  </tbody>
</table>
<p class="commenttext">I wanted to create a use who can<br>
<br>
1) login with a password either locally or from within our local
10.*.*.* network<br>
<br>
2) do anything they want to their own database<br>
<br>
3) see what other databases are on the server, but not do anything to
them (to facilitate requests for additional access).<br>
<br>
This seemed to do the trick:<br>
GRANT SHOW DATABASES ON *.* TO hubert@localhost IDENTIFIED BY
'password';<br>
GRANT SHOW DATABASES ON *.* TO hubert@'10.%' IDENTIFIED BY 'password';<br>
GRANT ALL ON hubertsdb.* TO hubert;<br>
<br>
<br>
</p>
<table id="c4220" class="commentdetails" summary="" border="0"
 cellpadding="0" cellspacing="0" width="100%">
  <tbody>
    <tr>
      <td>Posted by Yannick Warnier on March 26 2004 2:36am</td>
      <td align="right">[<a
 href="http://dev.mysql.com/doc/mysql/comment.php?id=4220&amp;action=delete">Delete</a>]
[<a href="http://dev.mysql.com/doc/mysql/comment.php?id=4220">Edit</a>]</td>
    </tr>
  </tbody>
</table>
<p class="commenttext">I didn't find any report on this and had some
problems getting it set on Linux Debian, MySQL version 4.0.16<br>
<br>
When
adding a new user, the first method indicated here will not set a
password with the right encryption type to authorize a login with the
'-p' command line option.<br>
<br>
If you want to be able to connect to
the MySQL client using '-p' or to connect to the database using a
password, you'll have to set the password this way from outside the
MySQL client:<br>
<br>
mysqladmin -u the_username password "his_password"<br>
<br>
Maybe someone can explain this. My guess is around the encryption type
not being the same in both methods.<br>
</p>
<table id="c4226" class="commentdetails" summary="" border="0"
 cellpadding="0" cellspacing="0" width="100%">
  <tbody>
    <tr>
      <td>Posted by [name withheld] on March 26 2004 1:36pm</td>
      <td align="right">[<a
 href="http://dev.mysql.com/doc/mysql/comment.php?id=4226&amp;action=delete">Delete</a>]
[<a href="http://dev.mysql.com/doc/mysql/comment.php?id=4226">Edit</a>]</td>
    </tr>
  </tbody>
</table>
<p class="commenttext">I
just used the GRANT method and was able to login using the -p option
with the user I had just created. I'm running version 4.0.18 on NetBSD
1.6.2. May be a GNU/Linux or 4.0.16 issue. <br>
</p>
<table id="c4741" class="commentdetails" summary="" border="0"
 cellpadding="0" cellspacing="0" width="100%">
  <tbody>
    <tr>
      <td>Posted by Christopher Heschong on July 27 2004 8:51pm</td>
      <td align="right">[<a
 href="http://dev.mysql.com/doc/mysql/comment.php?id=4741&amp;action=delete">Delete</a>]
[<a href="http://dev.mysql.com/doc/mysql/comment.php?id=4741">Edit</a>]</td>
    </tr>
  </tbody>
</table>
<p class="commenttext">I've
seen the same behaviour as Yannick on Solaris 9 running 4.0.15a...
passwords set by GRANT or even set Password=password('something') do
not work, but passwords set using mysqladmin do.<br>
</p>
<table id="c4763" class="commentdetails" summary="" border="0"
 cellpadding="0" cellspacing="0" width="100%">
  <tbody>
    <tr>
      <td>Posted by James Thompson on August 3 2004 11:11pm</td>
      <td align="right">[<a
 href="http://dev.mysql.com/doc/mysql/comment.php?id=4763&amp;action=delete">Delete</a>]
[<a href="http://dev.mysql.com/doc/mysql/comment.php?id=4763">Edit</a>]</td>
    </tr>
  </tbody>
</table>
<p class="commenttext">My
attempts regarding this apparent bug have all been successful: I use
Mandrake Linux 10 with MySQL version 4.0.20 built from source.<br>
</p>
<table id="c4895" class="commentdetails" summary="" border="0"
 cellpadding="0" cellspacing="0" width="100%">
  <tbody>
    <tr>
      <td>Posted by Adam Nichols on August 31 2004 3:30am</td>
      <td align="right">[<a
 href="http://dev.mysql.com/doc/mysql/comment.php?id=4895&amp;action=delete">Delete</a>]
[<a href="http://dev.mysql.com/doc/mysql/comment.php?id=4895">Edit</a>]</td>
    </tr>
  </tbody>
</table>
<p class="commenttext">I was having the same problem as Yannick except
mysqladmin wasn't helping. Eventually I found a solution that worked
for me:<br>
<br>
SET PASSWORD FOR 'mynewuser'@'localhost' = PASSWORD('newpwd');<br>
<br>
<br>
</p>
<table id="c5600" class="commentdetails" summary="" border="0"
 cellpadding="0" cellspacing="0" width="100%">
  <tbody>
    <tr>
      <td>Posted by Jim Dennis on January 18 2005 9:05pm</td>
      <td align="right">[<a
 href="http://dev.mysql.com/doc/mysql/comment.php?id=5600&amp;action=delete">Delete</a>]
[<a href="http://dev.mysql.com/doc/mysql/comment.php?id=5600">Edit</a>]</td>
    </tr>
  </tbody>
</table>
<p class="commenttext">WARNING: ~/.mysql_history shows any
PASSWORD('xxx') calls.<br>
<br>
Just a note to admins and users out there; be sure to chmod <br>
0600 your ~/.mysql_history as well as any ~/.my.cnf files. <br>
Otherwise anyone with a local account might be able to read any <br>
of your GRANT and SET PASSWORD statements.<br>
<br>
<br>
<br>
<br>
</p>
<table id="c5782" class="commentdetails" summary="" border="0"
 cellpadding="0" cellspacing="0" width="100%">
  <tbody>
    <tr>
      <td>Posted by Max on February 25 2005 3:33pm</td>
      <td align="right">[<a
 href="http://dev.mysql.com/doc/mysql/comment.php?id=5782&amp;action=delete">Delete</a>]
[<a href="http://dev.mysql.com/doc/mysql/comment.php?id=5782">Edit</a>]</td>
    </tr>
  </tbody>
</table>
<p class="commenttext">Indeed one solution to your password problem
could lie in the value of 'host'.<br>
Check it out by issuing "SELECT user()" using different interfaces
(CLI, web server), and giving different values for 'host'.<br>
<br>
On one server where I'm not admin but I have to work on, there happen
strange things :<br>
sometimes
host='' defaults to 'localhost', sometimes to 'localhost.localdomain'
(on the same mysql server !!) and the two corresponding accounts can
have different passwords.<br>
Or one may need a password, and the other one not.<br>
<br>
Even worse, on this server:<br>
<code><font color="#000000"><font color="#0000bb">&lt;?php mysql_connect</font><font
 color="#007700">(</font><font color="#dd0000">'localhost'</font><font
 color="#007700">); </font><font color="#0000bb">print_r</font><font
 color="#007700">( </font><font color="#0000bb">mysql_fetch_assoc</font><font
 color="#007700">( </font><font color="#0000bb">mysql_query</font><font
 color="#007700">( </font><font color="#dd0000">"SELECT user()"</font><font
 color="#007700">))) </font><font color="#0000bb">?&gt;<br>
</font>shows:<br>
Array ( [user()] =&gt; nobody@localhost.localdomain )<br>
<br>
i.e. it is IMPOSSIBLE to connect from PHP with host='localhost', while
the CLI shows that there exist two different users,<br>
nobody@localhost and nobody@localhost.localdomain<br>
(and its the same for user='root'! and they have different privileges!)<br>
<br>
In
general, phpMyAdmin will do what you need for your PHP scripts, because
it uses the same interface (as long as they run on the same web
server), while the CLI does not (but allows for more direct and less
'default prone' access to the db server).<br>
<br>
Also keep in mind the
VARIOUS security risks using phpMyAdmin (among others, both Apache
HTTP_AUTH passwords and MySQL passwords transit in clear text in the
POST data, and might be available to 'everybody' as global variables
(eg. if register_globals is on) ...) !<br>
<br>
</font></code></p>
<table id="c6647" class="commentdetails" summary="" border="0"
 cellpadding="0" cellspacing="0" width="100%">
  <tbody>
    <tr>
      <td>Posted by Ken QCL on October 4 2005 5:22am</td>
      <td align="right">[<a
 href="http://dev.mysql.com/doc/mysql/comment.php?id=6647&amp;action=delete">Delete</a>]
[<a href="http://dev.mysql.com/doc/mysql/comment.php?id=6647">Edit</a>]</td>
    </tr>
  </tbody>
</table>
<p class="commenttext">What is the function of "CREATE USER" command?
Is this the proper way to create user?<br>
</p>
<p><a
 href="http://dev.mysql.com/doc/mysql/comment.php?sect=adding-users">Add
your own comment.</a><br>
</p>
<h4 class="title">13.5.1.1.&nbsp;<code class="literal">CREATE USER</code>
Syntax</h4>
<a class="indexterm" name="id3015793"></a><a class="indexterm"
 name="id3015802"></a><a class="indexterm" name="id3015812"></a>
<pre class="programlisting">CREATE USER <em class="replaceable"><code>user</code></em> [IDENTIFIED BY [PASSWORD] '<em
 class="replaceable"><code>password</code></em>']<br><br></pre>
<h3 class="title">2.9.3.&nbsp;Securing the Initial MySQL Accounts</h3>
<a class="indexterm" name="id2811030"></a><a class="indexterm"
 name="id2811040"></a><a class="indexterm" name="id2811050"></a><a
 class="indexterm" name="id2811057"></a><a class="indexterm"
 name="id2811063"></a><a class="indexterm" name="id2811073"></a><a
 class="indexterm" name="id2811084"></a><a class="indexterm"
 name="id2811094"></a><a class="indexterm" name="id2811101"></a>
<p> Part of the MySQL installation process is to set up the <code
 class="literal">mysql</code> database that contains the grant tables: </p>
<div class="itemizedlist">
<ul type="disc">
  <li>
    <p> Windows distributions contain preinitialized grant tables that
are installed automatically. </p>
  </li>
  <li>
    <p> On Unix, the grant tables are populated by the <span><strong
 class="command">mysql_install_db</strong></span> program. Some
installation methods run this program for you. Others require that you
execute it manually. For details, see <a
 href="http://dev.mysql.com/doc/refman/5.0/en/unix-post-installation.html"
 title="2.9.2.&nbsp;Unix Post-Installation Procedures">Section&nbsp;2.9.2,
&ldquo;Unix Post-Installation Procedures&rdquo;</a>. </p>
  </li>
</ul>
</div>
<p> The grant tables define the initial MySQL user accounts and their
access privileges. These accounts are set up as follows: </p>
<div class="itemizedlist">
<ul type="disc">
  <li>
    <p> Accounts with the username <code class="literal">root</code>
are created. These are superuser accounts that can do anything. The
initial <code class="literal">root</code> account passwords are empty,
so anyone can connect to the MySQL server as <code class="literal">root</code>
&mdash; <span class="emphasis"><em>without a password</em></span>
&mdash; and be
granted all privileges. </p>
    <div class="itemizedlist">
    <ul type="circle">
      <li>
        <p> On Windows, one <code class="literal">root</code> account
is created; this account allows connecting from the local host only.
The Windows installer will optionally create an account allowing for
connections from any host only if the user selects the <span
 class="guilabel">Enable root access from remote machines</span> option
during installation. </p>
      </li>
      <li>
        <p> On Unix, both <code class="literal">root</code> accounts
are for connections from the local host. Connections must be made from
the local host by specifying a hostname of <code class="literal">localhost</code>
for one of the accounts, or the actual hostname or IP number for the
other. </p>
      </li>
    </ul>
    </div>
  </li>
  <li>
    <p> <a class="indexterm" name="id2811233"></a> Two anonymous-user
accounts are created, each with an empty username. The anonymous
accounts have no password, so anyone can use them to connect to the
MySQL server. </p>
    <div class="itemizedlist">
    <ul type="circle">
      <li>
        <p> On Windows, one anonymous account is for connections from
the local host. It has all privileges, just like the <code
 class="literal">root</code> accounts. The other is for connections
from any host and has all privileges for the <code class="literal">test</code>
database and for other databases with names that start with <code
 class="literal">test</code>. </p>
      </li>
      <li>
        <p> On Unix, both anonymous accounts are for connections from
the local host. Connections must be made from the local host by
specifying a hostname of <code class="literal">localhost</code> for
one of the accounts, or the actual hostname or IP number for the other.
These accounts have all privileges for the <code class="literal">test</code>
database and for other databases with names that start with <code
 class="literal">test_</code>. </p>
      </li>
    </ul>
    </div>
  </li>
</ul>
</div>
<p> As noted, none of the initial accounts have passwords. This means
that your MySQL installation is unprotected until you do something
about it: </p>
<div class="itemizedlist">
<ul type="disc">
  <li>
    <p> If you want to prevent clients from connecting as anonymous
users without a password, you should either assign a password to each
anonymous account or else remove the accounts. </p>
  </li>
  <li>
    <p> You should assign a password to each MySQL <code
 class="literal">root</code> accounts. </p>
  </li>
</ul>
</div>
<p> The following instructions describe how to set up passwords for the
initial MySQL accounts, first for the anonymous accounts and then for
the <code class="literal">root</code> accounts. Replace &ldquo;<span
 class="quote"><em class="replaceable"><code>newpwd</code></em></span>&rdquo;
in the examples with the actual password that you want to use. The
instructions also cover how to remove the anonymous accounts, should
you prefer not to allow anonymous access at all. </p>
<p> You might want to defer setting the passwords until later, so that
you don't need to specify them while you perform additional setup or
testing. However, be sure to set them before using your installation
for production purposes. </p>
<p> To assign passwords to the anonymous accounts, connect to the
server as <code class="literal">root</code> and then either <code
 class="literal">SET PASSWORD</code> or <code class="literal">UPDATE</code>.
In either case, be sure to encrypt the password using the <code
 class="literal">PASSWORD()</code> function. </p>
<p> To use <code class="literal">SET PASSWORD</code> on Windows, do
this: </p>
shell&gt; <strong class="userinput"><code>mysql -u root</code></strong>
mysql&gt; <strong class="userinput"><code>SET PASSWORD FOR
''@'localhost' = PASSWORD('<em class="replaceable"><code>newpwd</code></em>');</code></strong>
mysql&gt; <strong class="userinput"><code>SET PASSWORD FOR ''@'%' =
PASSWORD('<em class="replaceable"><code>newpwd</code></em>');</code></strong>
<p> To use <code class="literal">SET PASSWORD</code> on Unix, do this:
</p>
shell&gt; <strong class="userinput"><code>mysql -u root</code></strong>
mysql&gt; <strong class="userinput"><code>SET PASSWORD FOR
''@'localhost' = PASSWORD('<em class="replaceable"><code>newpwd</code></em>');</code></strong>
mysql&gt; <strong class="userinput"><code>SET PASSWORD FOR ''@'<em
 class="replaceable"><code>host_name</code></em>' = PASSWORD('<em
 class="replaceable"><code>newpwd</code></em>');</code></strong>
<p> In the second <code class="literal">SET PASSWORD</code> statement,
replace <em class="replaceable"><code>host_name</code></em> with the
name of the server host. This is the name that is specified in the <code
 class="literal">Host</code> column of the non-<code class="literal">localhost</code>
record for <code class="literal">root</code> in the <code
 class="literal">user</code> table. If you don't know what hostname
this is, issue the following statement before using <code
 class="literal">SET PASSWORD</code>: </p>
mysql&gt; <strong class="userinput"><code>SELECT Host, User FROM
mysql.user;</code></strong>
<p> Look for the record that has <code class="literal">root</code> in
the <code class="literal">User</code> column and something other than <code
 class="literal">localhost</code> in the <code class="literal">Host</code>
column. Then use that <code class="literal">Host</code> value in the
second <code class="literal">SET PASSWORD</code> statement. </p>
<p> The other way to assign passwords to the anonymous accounts is by
using <code class="literal">UPDATE</code> to modify the <code
 class="literal">user</code> table directly. Connect to the server as <code
 class="literal">root</code> and issue an <code class="literal">UPDATE</code>
statement that assigns a value to the <code class="literal">Password</code>
column of the appropriate <code class="literal">user</code> table
records. The procedure is the same for Windows and Unix. The following <code
 class="literal">UPDATE</code> statement assigns a password to both
anonymous accounts at once: </p>
shell&gt; <strong class="userinput"><code>mysql -u root</code></strong>
mysql&gt; <strong class="userinput"><code>UPDATE mysql.user SET
Password = PASSWORD('<em class="replaceable"><code>newpwd</code></em>')</code></strong>
-&gt; <strong class="userinput"><code>WHERE User = '';</code></strong>
mysql&gt; <strong class="userinput"><code>FLUSH PRIVILEGES;</code></strong>
<p> After you update the passwords in the <code class="literal">user</code>
table directly using <code class="literal">UPDATE</code>, you must
tell the server to re-read the grant tables with <code class="literal">FLUSH
PRIVILEGES</code>. Otherwise, the change goes unnoticed until you
restart the server. </p>
<p> If you prefer to remove the anonymous accounts instead, do so as
follows: </p>
shell&gt; <strong class="userinput"><code>mysql -u root</code></strong>
mysql&gt; <strong class="userinput"><code>DELETE FROM mysql.user WHERE
User = '';</code></strong>
mysql&gt; <strong class="userinput"><code>FLUSH PRIVILEGES;</code></strong>
<p> The <code class="literal">DELETE</code> statement applies both to
Windows and to Unix. On Windows, if you want to remove only the
anonymous account that has the same privileges as <code class="literal">root</code>,
do this instead: </p>
shell&gt; <strong class="userinput"><code>mysql -u root</code></strong>
mysql&gt; <strong class="userinput"><code>DELETE FROM mysql.user WHERE
Host='localhost' AND User='';</code></strong>
mysql&gt; <strong class="userinput"><code>FLUSH PRIVILEGES;</code></strong>
<p> That account allows anonymous access but has full privileges, so
removing it improves security. </p>
<p> You can assign passwords to the <code class="literal">root</code>
accounts in several ways. The following discussion demonstrates three
methods: </p>
<div class="itemizedlist">
<ul type="disc">
  <li>
    <p> Use the <code class="literal">SET PASSWORD</code> statement </p>
  </li>
  <li>
    <p> Use the <span><strong class="command">mysqladmin</strong></span>
command-line client program </p>
  </li>
  <li>
    <p> Use the <code class="literal">UPDATE</code> statement </p>
  </li>
</ul>
</div>
<p> To assign passwords using <code class="literal">SET PASSWORD</code>,
connect to the server as <code class="literal">root</code> and issue
two <code class="literal">SET PASSWORD</code> statements. Be sure to
encrypt the password using the <code class="literal">PASSWORD()</code>
function. </p>
<p> For Windows, do this: </p>
shell&gt; <strong class="userinput"><code>mysql -u root</code></strong>
mysql&gt; <strong class="userinput"><code>SET PASSWORD FOR
'root'@'localhost' = PASSWORD('<em class="replaceable"><code>newpwd</code></em>');</code></strong>
mysql&gt; <strong class="userinput"><code>SET PASSWORD FOR 'root'@'%'
= PASSWORD('<em class="replaceable"><code>newpwd</code></em>');</code></strong>
<p> For Unix, do this: </p>
shell&gt; <strong class="userinput"><code>mysql -u root</code></strong>
mysql&gt; <strong class="userinput"><code>SET PASSWORD FOR
'root'@'localhost' = PASSWORD('<em class="replaceable"><code>newpwd</code></em>');</code></strong>
mysql&gt; <strong class="userinput"><code>SET PASSWORD FOR 'root'@'<em
 class="replaceable"><code>host_name</code></em>' = PASSWORD('<em
 class="replaceable"><code>newpwd</code></em>');</code></strong>
<p> In the second <code class="literal">SET PASSWORD</code> statement,
replace <em class="replaceable"><code>host_name</code></em> with the
name of the server host. This is the same hostname that you used when
you assigned the anonymous account passwords. </p>
<p> To assign passwords to the <code class="literal">root</code>
accounts using <span><strong class="command">mysqladmin</strong></span>,
execute the following commands: </p>
shell&gt; <strong class="userinput"><code>mysqladmin -u root password "<em
 class="replaceable"><code>newpwd</code></em>"</code></strong>
shell&gt; <strong class="userinput"><code>mysqladmin -u root -h <em
 class="replaceable"><code>host_name</code></em> password "<em
 class="replaceable"><code>newpwd</code></em>"</code></strong>
<p> These commands apply both to Windows and to Unix. In the second
command, replace <em class="replaceable"><code>host_name</code></em>
with the name of the server host. The double quotes around the password
are not always necessary, but you should use them if the password
contains spaces or other characters that are special to your command
interpreter. </p>
<p> You can also use <code class="literal">UPDATE</code> to modify the
<code class="literal">user</code> table directly. The following <code
 class="literal">UPDATE</code> statement assigns a password to both <code
 class="literal">root</code> accounts at once: </p>
shell&gt; <strong class="userinput"><code>mysql -u root</code></strong>
mysql&gt; <strong class="userinput"><code>UPDATE mysql.user SET
Password = PASSWORD('<em class="replaceable"><code>newpwd</code></em>')</code></strong>
-&gt; <strong class="userinput"><code>WHERE User = 'root';</code></strong>
mysql&gt; <strong class="userinput"><code>FLUSH PRIVILEGES;</code></strong>
<p> The <code class="literal">UPDATE</code> statement applies both to
Windows and to Unix. </p>
<p> After the passwords have been set, you must supply the appropriate
password whenever you connect to the server. For example, if you want
to use <span><strong class="command">mysqladmin</strong></span> to
shut down the server, you can do so using this command: </p>
shell&gt; <strong class="userinput"><code>mysqladmin -u root -p
shutdown</code></strong>
Enter password: <em class="replaceable"><code>(enter root password
here)</code></em>
<p> <span class="bold"><strong>Note</strong></span>: If you forget
your <code class="literal">root</code> password after setting it up, <a
 href="http://dev.mysql.com/doc/refman/5.0/en/resetting-permissions.html"
 title="A.4.1.&nbsp;How to Reset the Root Password">Section&nbsp;A.4.1,
&ldquo;How
to Reset the Root Password&rdquo;</a>, covers the procedure for
resetting it.
</p>
<p> To set up additional accounts, you can use the <code
 class="literal">GRANT</code> statement. For instructions, see <a
 href="http://dev.mysql.com/doc/refman/5.0/en/adding-users.html"
 title="5.9.2.&nbsp;Adding New User Accounts to MySQL">Section&nbsp;5.9.2,
&ldquo;Adding New User Accounts to MySQL&rdquo;</a>. </p>
<!--UdmComment-->
<div id="docnav"><a rel="prev"
 href="http://dev.mysql.com/doc/refman/5.0/en/starting-server.html"
 title="2.9.2.3 Starting and Troubleshooting the MySQL Server">Previous</a>
/ <a rel="next"
 href="http://dev.mysql.com/doc/refman/5.0/en/upgrade.html"
 title="2.10 Upgrading MySQL">Next</a> / <a rel="up"
 href="http://dev.mysql.com/doc/refman/5.0/en/post-installation.html"
 title="2.9 Post-Installation Setup and Testing">Up</a> / <a
 rel="contents" href="http://dev.mysql.com/doc/refman/5.0/en/index.html">Table
of Contents</a></div>
<!--/UdmComment--><br class="clear">
<!--UdmComment-->
<div id="comments">
<h2>User Comments</h2>
<table id="c4936" class="commentdetails" summary="" border="0"
 cellpadding="0" cellspacing="0" width="100%">
  <tbody>
    <tr>
      <td>Posted by Stefan Haflidason on September 6 2004 11:17am</td>
      <td align="right">[<a
 href="http://dev.mysql.com/doc/mysql/comment.php?id=4936&amp;action=delete">Delete</a>]
[<a href="http://dev.mysql.com/doc/mysql/comment.php?id=4936">Edit</a>]</td>
    </tr>
  </tbody>
</table>
<p class="commenttext">If you're having trouble using the above
statements, try the following syntax:<br>
<br>
mysql&gt; SET PASSWORD FOR username@"host" = PASSWORD('newpwd');<br>
<br>
</p>
<table id="c4998" class="commentdetails" summary="" border="0"
 cellpadding="0" cellspacing="0" width="100%">
  <tbody>
    <tr>
      <td>Posted by Ian Matthews on September 20 2004 4:59pm</td>
      <td align="right">[<a
 href="http://dev.mysql.com/doc/mysql/comment.php?id=4998&amp;action=delete">Delete</a>]
[<a href="http://dev.mysql.com/doc/mysql/comment.php?id=4998">Edit</a>]</td>
    </tr>
  </tbody>
</table>
<p class="commenttext">After reading all of this detail I was still
unable to set the password for the ''@'%' user:<br>
<br>
mysql&gt; SET PASSWORD FOR ''@'%' = PASSWORD('xxxxxxxx');<br>
ERROR 1133: Can't find any matching row in the user table<br>
<br>
so
I used a GUI tool called SQLYog to view what was in the USER table of
the MYSQL database. It turns out that my HOST entry was called BUILD so
I used the following command to change the password:<br>
<br>
mysql&gt; SET PASSWORD FOR ''@'build' = PASSWORD('xxxxxxxx');<br>
Query OK, 0 rows affected (0.00 sec)<br>
<br>
I
do not know if this is something I did wrong during the setup or if
this is an as yet undocumented change to the stable 4.0 build FOR
WINDOWS I downloaded last week.<br>
<br>
Basically I had to follow the instructions listed in the "To use SET
PASSWORD on Unix". <br>
</p>
<table id="c5117" class="commentdetails" summary="" border="0"
 cellpadding="0" cellspacing="0" width="100%">
  <tbody>
    <tr>
      <td>Posted by Tom Zimmermann on October 13 2004 3:52am</td>
      <td align="right">[<a
 href="http://dev.mysql.com/doc/mysql/comment.php?id=5117&amp;action=delete">Delete</a>]
[<a href="http://dev.mysql.com/doc/mysql/comment.php?id=5117">Edit</a>]</td>
    </tr>
  </tbody>
</table>
<p class="commenttext">I
had the same problem as above, and wound up using the following command
to set the root password for both accounts simultaneously:<br>
<br>
mysql&gt; UPDATE mysql.user SET Password = PASSWORD('newpassword')<br>
mysql&gt; WHERE User = 'root';<br>
</p>
<table id="c5211" class="commentdetails" summary="" border="0"
 cellpadding="0" cellspacing="0" width="100%">
  <tbody>
    <tr>
      <td>Posted by [name withheld] on November 3 2004 12:56pm</td>
      <td align="right">[<a
 href="http://dev.mysql.com/doc/mysql/comment.php?id=5211&amp;action=delete">Delete</a>]
[<a href="http://dev.mysql.com/doc/mysql/comment.php?id=5211">Edit</a>]</td>
    </tr>
  </tbody>
</table>
<p class="commenttext">When you use the mysqladmin command to set up
the root password for your MySQL database you have to be careful. <br>
<br>
In
my user database MySQL placed two root users, one for localhost and one
for the SaxionSecurity host (which is the hostname of the Linux
system). When I executed the 'mysqladmin &ndash;u root password
&ldquo;new_password&rdquo;' command the password for the localhost was
changed, but
the SaxionSecurity host still had no password. So every user with shell
access to my linux system could still login as root user in MySQL with
the command 'mysql &ndash;h SaxionSecurity -u root'. <br>
<br>
When I
installed MySQL with apt under debian I did not have this extra root
user, so I don't know when this could be a problem (in the above case I
user a static binary). But you can just check your user table in your
mysql database to see if you have this combination of hostname and root
user.<br>
<br>
Also for the paranoia sysadmins this might be useful.
After you add a new user or change a password make sure you clean the
command history, either in a file like .bash_history or .mysql_history.<br>
<br>
Greetings,<br>
<br>
Matt<br>
</p>
<table id="c5466" class="commentdetails" summary="" border="0"
 cellpadding="0" cellspacing="0" width="100%">
  <tbody>
    <tr>
      <td>Posted by Angelo Chu on December 26 2004 12:58pm</td>
      <td align="right">[<a
 href="http://dev.mysql.com/doc/mysql/comment.php?id=5466&amp;action=delete">Delete</a>]
[<a href="http://dev.mysql.com/doc/mysql/comment.php?id=5466">Edit</a>]</td>
    </tr>
  </tbody>
</table>
<p class="commenttext">Yeah,Matt.I
have the same situation as you.While I have 2 root account in user
table!1 for localhost and another for my hostname.I feel strange that
why do I have 2 root account?Maybe can I simplify it with a single
account?<br>
</p>
<table id="c5656" class="commentdetails" summary="" border="0"
 cellpadding="0" cellspacing="0" width="100%">
  <tbody>
    <tr>
      <td>Posted by Kyle Haley on January 30 2005 6:48pm</td>
      <td align="right">[<a
 href="http://dev.mysql.com/doc/mysql/comment.php?id=5656&amp;action=delete">Delete</a>]
[<a href="http://dev.mysql.com/doc/mysql/comment.php?id=5656">Edit</a>]</td>
    </tr>
  </tbody>
</table>
<p class="commenttext">To matt's comment - I had the same issue. But I
realized that I didn't grant permissions first to my new accounts.<br>
<br>
So, first, grant permissions. THEN set up the passwords.<br>
<br>
mysql&gt; grant usage on * to myaccount@localhost; -- allows access to
mysql<br>
mysql&gt; grant usage on mydatabase.* to myaccount@localhost; -- allows
access to a particular database<br>
mysql&gt; set password for 'myaccount'@'localhost' =
PASSWORD('mypassword'); -- sets up a password for the new account<br>
mysql&gt; flush privileges;<br>
<br>
Obviously,
replace the mydatabase, myaccount, and mypassword with your new
account's database, account, and password, respectively. This worked
well for me.<br>
<br>
</p>
<table id="c6201" class="commentdetails" summary="" border="0"
 cellpadding="0" cellspacing="0" width="100%">
  <tbody>
    <tr>
      <td>Posted by [name withheld] on June 14 2005 8:14pm</td>
      <td align="right">[<a
 href="http://dev.mysql.com/doc/mysql/comment.php?id=6201&amp;action=delete">Delete</a>]
[<a href="http://dev.mysql.com/doc/mysql/comment.php?id=6201">Edit</a>]</td>
    </tr>
  </tbody>
</table>
<p class="commenttext">As
far as I can tell, all of the methods provided for password assignment
are potentially insecure in that passwords are likely to be visible in
the shell history buffer (if mysqladmin is used), or the query history
buffer maintained locally by the mysql client. As a result, anyone
gaining access to the files containing these buffers could gain access
to your database(s). Therefore, it is important to clear these out
anytime MySQL passwords are set or changed. <br>
<br>
I am using 4.1.x. Things may be different in 5. It's certainly an
aspect that should be addressed at some point.<br>
<br>
If I am overlooking something obvoius, please excuse my ignorance and
feel free to comment.<br>
<br>
Best regards<br>
<br>
Joe<br>
<br>
</p>
<table id="c6579" class="commentdetails" summary="" border="0"
 cellpadding="0" cellspacing="0" width="100%">
  <tbody>
    <tr>
      <td>Posted by Abel Lopez on September 21 2005 6:11am</td>
      <td align="right">[<a
 href="http://dev.mysql.com/doc/mysql/comment.php?id=6579&amp;action=delete">Delete</a>]
[<a href="http://dev.mysql.com/doc/mysql/comment.php?id=6579">Edit</a>]</td>
    </tr>
  </tbody>
</table>
<p class="commenttext">Wow,
after installing the RPM of 4.1 and not being able to do anything like
the docs state, my DBA friend told me to delete the db and reinstall,
This tottally worked. Steps involved:<br>
<br>
cd /var/lib/mysql<br>
rm -rf mysql/<br>
mkdir mysql<br>
mysql_install_db<br>
chown -R mysql:mysql mysql<br>
<br>
Now, when I run mysqladmin -u root password 'newpassword', it finally
works. <br>
</p>
<table id="c6652" class="commentdetails" summary="" border="0"
 cellpadding="0" cellspacing="0" width="100%">
  <tbody>
    <tr>
      <td>Posted by Amelia Colarco on October 4 2005 7:29pm</td>
      <td align="right">[<a
 href="http://dev.mysql.com/doc/mysql/comment.php?id=6652&amp;action=delete">Delete</a>]
[<a href="http://dev.mysql.com/doc/mysql/comment.php?id=6652">Edit</a>]</td>
    </tr>
  </tbody>
</table>
<p class="commenttext">For
those of you trying to use MySQL with PHP, the way they have you set
the password here doesn't work. The solution can be found later in the
document, but it seems appropriate to add it here because it can save
some heartache later on. If you have PHP 4 or older, and MySQL 4.1 or
newer, you have to use 16-bin encription, as PHP 4 does not support
mysql at 32-bit.<br>
<br>
After some digging it turns out the fix is
EASY. Just use OLD_PASSWORD('yourpasswordhere') instead of
PASSWORD('yourpasswordhere')<br>
<br>
Problem solved! Of course this is
less secure. This is by far the easiest fix, but information on other
fixes can be found later on in the documentation, and on <a
 href="http://www.php.net">http://www.php.net</a> if you'd like to
learn more.<br>
<br>
</p>
<table id="c6664" class="commentdetails" summary="" border="0"
 cellpadding="0" cellspacing="0" width="100%">
  <tbody>
    <tr>
      <td>Posted by ralph cook on October 6 2005 9:30pm</td>
      <td align="right">[<a
 href="http://dev.mysql.com/doc/mysql/comment.php?id=6664&amp;action=delete">Delete</a>]
[<a href="http://dev.mysql.com/doc/mysql/comment.php?id=6664">Edit</a>]</td>
    </tr>
  </tbody>
</table>
<p class="commenttext">I
got here by scouting the table of contents; I was trying to set the
root password and add a user and ran into trouble immediately. I had
used the Windows installer, so my root password was set when I ran
that. I should have remembered, but didn't. I think this text could
mention how things are different if you used the installer.<br>
<br>
Also, unless I'm doing something wrong with my select statements, it
only sets the one user, no remote users, no anonymous user.<br>
<br>
Thanks
for all the help, everybody. I managed to glean how to add a user and
his correct encrypted password solely by reading the comments.<br>
<br>
rc<br>
</p>
<table id="c6876" class="commentdetails" summary="" border="0"
 cellpadding="0" cellspacing="0" width="100%">
  <tbody>
    <tr>
      <td>Posted by Fausto Rodriguez Zapata on November 18 2005 2:28pm</td>
      <td align="right">[<a
 href="http://dev.mysql.com/doc/mysql/comment.php?id=6876&amp;action=delete">Delete</a>]
[<a href="http://dev.mysql.com/doc/mysql/comment.php?id=6876">Edit</a>]</td>
    </tr>
  </tbody>
</table>
<p class="commenttext">For Mac OS X Tiger 10.4.3<br>
<br>
After installing the mysql-debug-5.0.15-osx10.4-powerpc.pkg package<br>
and
running the mysql server through installed preference pane I got the
following error when I tried to set the anonymous passwords:<br>
<br>
shell&gt; mysql -u root<br>
Access denied for user 'root'@'localhost' (using password: NO)<br>
<br>
So I first followed the directions in A.4.1. How to Reset the Root
Password<br>
to reset the root password and then I modified the anonymous and root
passwords as in this section.<br>
</p>
<table id="c6881" class="commentdetails" summary="" border="0"
 cellpadding="0" cellspacing="0" width="100%">
  <tbody>
    <tr>
      <td>Posted by Joe Dougherty on November 20 2005 4:44pm</td>
      <td align="right">[<a
 href="http://dev.mysql.com/doc/mysql/comment.php?id=6881&amp;action=delete">Delete</a>]
[<a href="http://dev.mysql.com/doc/mysql/comment.php?id=6881">Edit</a>]</td>
    </tr>
  </tbody>
</table>
<p class="commenttext">One thing that may drive you nuts, especially if
you're old like me and don't see things as clearly as you used to...<br>
<br>
When
setting a password for the anonymous accounts, make sure you don't use
double quotes (") in front if the @. Two single ticks will work,
because then everything matches. ;-)<br>
<br>
This is especially
important for those reading these instructions with a smaller font.
They might get fooled into using the wrong symbols/keys. I can't tell
you how many times this caught me.<br>
</p>
<p><a
 href="http://dev.mysql.com/doc/mysql/comment.php?sect=default-privileges">Add
your own comment.</a></p>
</div>
<pre class="programlisting"><br>    [, <em class="replaceable"><code>user</code></em> [IDENTIFIED BY [PASSWORD] '<em
 class="replaceable"><code>password</code></em>']] ...<br></pre>
<p> The <code class="literal">CREATE USER</code> statement was added
in MySQL 5.0.2. This statement creates new MySQL accounts. To use it,
you must have the global <code class="literal">CREATE USER</code>
privilege or the <code class="literal">INSERT</code> privilege for the
<code class="literal">mysql</code> database. For each account, <code
 class="literal">CREATE USER</code> creates a new record in the <code
 class="literal">mysql.user</code> table that has no privileges. An
error occurs if the account already exists. Each account is named using
the same format as for the <code class="literal">GRANT</code>
statement; for example, <code class="literal">'jeffrey'@'localhost'</code>.
The user and host parts of the account name correspond to the <code
 class="literal">User</code> and <code class="literal">Host</code>
column values of the <code class="literal">user</code> table row for
the account. </p>
<p> The account can be given a password with the optional <code
 class="literal">IDENTIFIED BY</code> clause. The <em
 class="replaceable"><code>user</code></em> value and the password are
given the same way as for the <code class="literal">GRANT</code>
statement. In particular, to specify the password in plain text, omit
the <code class="literal">PASSWORD</code> keyword. To specify the
password as the hashed value as returned by the <code class="literal">PASSWORD()</code>
function, include the <code class="literal">PASSWORD</code> keyword.
See <a href="http://dev.mysql.com/doc/refman/5.0/en/grant.html"
 title="13.5.1.3.&nbsp;GRANT Syntax">Section&nbsp;13.5.1.3, &ldquo;<code
 class="literal">GRANT</code> Syntax&rdquo;</a>. </p>
</div>
</body>
</html>
